!function(t){t.controlConstructor["background-image"]=t.UploadControl.extend({ready:function(){var e=this;e.setting=this.settings.image_url,t.UploadControl.prototype.ready.apply(e,arguments);var n=this;n.container.addClass("customize-control-image"),n.container.on("click keydown",".remove-button",function(){jQuery(".background-image-fields").hide(),jQuery(".background-image-fields").addClass("hidden")}),n.container.on("change",".background-image-repeat select",function(){n.settings.repeat.set(jQuery(this).val())}),n.container.on("change",".background-image-size select",function(){n.settings.size.set(jQuery(this).val())}),n.container.on("change",".background-image-attach select",function(){n.settings.attach.set(jQuery(this).val())}),n.container.on("change",".background-image-position select",function(){n.settings.position.set(jQuery(this).val())})},select:function(){var t=this.frame.state().get("selection").first().toJSON();this.params.attachment=t,this.settings.image_url.set(t.url),this.settings.image_id.set(t.id)}})}(wp.customize);